(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(18),l=a.n(s),o=(a(24),a(5)),i=a(9),r=a(19),j=a(2),u=(a(25),a(7)),b=a.n(u),d=a(0);var h=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),l=Object(j.a)(s,2),u=l[0],h=l[1],O=Object(c.useState)(""),p=Object(j.a)(O,2),m=p[0],x=p[1],g=Object(c.useState)({password:""}),v=Object(j.a)(g,2),f=v[0],N=v[1],S=Object(c.useState)(""),y=Object(j.a)(S,2),w=y[0],C=y[1],k=Object(c.useState)("Germani"),L=Object(j.a)(k,2),B=L[0],T=L[1],E=Object(c.useState)(!1),F=Object(j.a)(E,2),P=F[0],D=F[1],I=Object(c.useState)(""),R=Object(j.a)(I,2),A=R[0],J=R[1],Y=Object(c.useState)(""),_=Object(j.a)(Y,2),G=_[0],H=_[1],M=Object(c.useState)(""),U=Object(j.a)(M,2),q=U[0],z=(U[1],Object(c.useState)({email:"",login:"",password:""})),K=Object(j.a)(z,2),Q=K[0],V=K[1],W=Object(c.useState)(""),X=Object(j.a)(W,2),Z=X[0],$=X[1],ee=Object(c.useState)(""),te=Object(j.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)(!1),se=Object(j.a)(ne,2),le=se[0],oe=se[1],ie=Object(c.useState)(!1),re=Object(j.a)(ie,2),je=re[0],ue=re[1],be=Object(c.useState)(""),de=Object(j.a)(be,2),he=de[0],Oe=de[1],pe=Object(c.useState)(!0),me=Object(j.a)(pe,2),xe=me[0],ge=me[1],ve=Object(c.useState)([]),fe=Object(j.a)(ve,2),Ne=fe[0],Se=fe[1];Object(c.useEffect)((function(){ye()}),[]);var ye=function(){b.a.get("http://localhost:3001/country").then((function(e){var t=e.data;Se(Object(r.a)(t)),console.log(t)}))},we=function(e){var t=e.target,a=t.name,c=t.value;V((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(o.a)({},a,c))}))};return Object(d.jsxs)("div",{className:"App",children:[je?Object(d.jsxs)("div",{className:"authBlock",children:[Object(d.jsxs)("div",{className:"authText",children:["Hello, ",Z," ",ae]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"btn btnBlue",onClick:function(){return ue(!1)},children:"Log out"})})]}):null,Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:xe?"postBox":"postBox hide",children:[Object(d.jsxs)("p",{className:"err",children:[A," "]}),Object(d.jsx)("p",{className:"err",children:G}),Object(d.jsx)("p",{className:"err",children:q}),he?Object(d.jsx)("p",{className:"err",children:he}):null,Object(d.jsxs)("div",{className:"registration-block",children:[Object(d.jsxs)("div",{className:"header-block",children:[Object(d.jsx)("div",{className:"headerTitle",children:"Registration"}),Object(d.jsxs)("div",{className:"headerText",children:["Already have an account? ",Object(d.jsx)("span",{className:"headerLog",onClick:function(){return ge(!1)},children:"Log in"})]})]}),Object(d.jsxs)("form",{className:"postForm",onSubmit:function(e){e.preventDefault();var t={email:a,login:u,name:m,password:f.password,birth:w,country:B};console.log("\u0434\u043b\u044f \u0431\u044d\u043a\u0430",t),function(){var e="",t="";return a.includes("@")||(e="Invalid email"),u&&f.password&&m&&w&&B&&P||(t='Please, fill in form fields and check " I agree"'),e?(H(e),!1):t?(J(t),!1):""!==f}()?(J(""),H(""),b.a.post("http://localhost:3001/create",t).then((function(e){"ER_DUP_ENTRY"==e.data.code?Oe("This user already exists"):(Oe(""),ue(!0),$(m),ce(a),oe(!1))}))):N({password:""})},children:[Object(d.jsx)("input",{type:"text",name:"email",placeholder:"Email",onChange:function(e){n(e.target.value)}}),Object(d.jsx)("input",{type:"text",name:"login",placeholder:"Login",onChange:function(e){h(e.target.value)}}),Object(d.jsx)("input",{type:"text",name:"password",value:f.password,placeholder:"Password",onChange:function(e){N({password:e.target.value}),console.log(f)}}),Object(d.jsx)("input",{type:"text",name:"name",placeholder:"Your name",onChange:function(e){x(e.target.value)}}),Object(d.jsx)("input",{type:"date",name:"birth",placeholder:"Date of Birth",onChange:function(e){C(e.target.value)}}),Object(d.jsx)("select",{name:"country",onChange:function(e){T(e.target.value)},children:Ne.map((function(e){return Object(d.jsx)("option",{name:e.countryname,children:e.countryname},e.id)}))}),Object(d.jsxs)("div",{className:"agree",children:[Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"checkbox",name:"check",placeholder:"check",onChange:function(e){e.target.value,D(!P)}})}),Object(d.jsx)("div",{children:"I agree"})]}),Object(d.jsx)("button",{className:"btn btnBlue",children:"Sign up"})]})]})]}),Object(d.jsxs)("div",{className:xe?"authentication-block hide":"authentication-block",children:[Object(d.jsxs)("div",{className:"header-block",children:[Object(d.jsx)("div",{className:"headerTitle",children:"Log in"}),Object(d.jsxs)("div",{className:"headerText",children:["Need an account? ",Object(d.jsx)("span",{className:"headerLog",onClick:function(){return ge(!0)},children:"Sign up"})]})]}),le?Object(d.jsx)("p",{children:"error, user not found"}):null,Object(d.jsxs)("form",{className:"postForm",onSubmit:function(e){e.preventDefault();var t={email:Q.email,login:Q.login,password:Q.password};b.a.post("http://localhost:3001/auth",t).then((function(e){console.log(e.data),e.data?(ue(!0),console.log(e.data),$(e.data),ce(Q.email),oe(!1)):(oe(!0),ue(!1))}))},children:[Object(d.jsx)("input",{type:"text",name:"login",placeholder:"Login",onChange:we}),Object(d.jsx)("input",{type:"text",name:"email",placeholder:"Email",onChange:we}),Object(d.jsx)("input",{type:"text",name:"password",placeholder:"Password",onChange:we}),Object(d.jsx)("button",{className:"btn btnBlue",children:"Log in"})]})]})]})]})},O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,l=t.getTTFB;a(e),c(e),n(e),s(e),l(e)}))};l.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root")),O()}},[[45,1,2]]]);
//# sourceMappingURL=main.65ca9c9c.chunk.js.map
{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","useState","email","setEmail","login","setLogin","name","setName","password","setPassword","birth","setBirth","country","setCountry","agree","setAgree","isEmpty","setIsEmpty","emailErr","setEmailErr","clickAgree","form","setForm","currentUser","setCurrentUser","currentEmail","setCurrentEmail","errAuth","setErrAuth","authentication","setAuthentication","authWrong","setAuthWrong","renderForm","setRenderForm","city","setCity","useEffect","getCountry","Axios","get","then","res","data","console","log","handleChande","event","target","aname","avalue","value","prev","className","onClick","onSubmit","preventDefault","formInfo","emptyFild","includes","checkValid","post","code","type","placeholder","onChange","e","map","val","countryname","id","authInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.65ca9c9c.chunk.js","sourcesContent":["\nimport './App.css';\nimport React, {useState, useEffect}from 'react'\nimport Axios from 'axios'\n\nfunction App() {\n\n  // sign up\n  const [email, setEmail] = useState('');\n  const [login, setLogin] = useState('');\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState({password: ''});\n  const [birth, setBirth] = useState('');\n  const [country, setCountry] = useState('Germani');\n  const [agree, setAgree] = useState(false);\n\n  const [isEmpty, setIsEmpty] = useState('');\n  const [emailErr, setEmailErr] = useState('');\n  const [clickAgree, setClickAgree] = useState('');\n\n  const [form, setForm] = useState ({\n        email: '',\n        login: '',\n        password: '',\n        })\n\n  const [currentUser, setCurrentUser] = useState('');\n  const [currentEmail, setCurrentEmail] = useState('');\n\n  const [errAuth, setErrAuth] = useState (false)\n\n    // authentication\n\n    const [authentication, setAuthentication] = useState (false)\n    const [authWrong, setAuthWrong] = useState ('')\n\n  const [renderForm, setRenderForm] = useState (true)\n \n  const [city, setCity] = useState ([])\n\n  \n  // fet country for db\n  useEffect(() => {getCountry()}, [])\n\n  const getCountry = () => {\n    Axios.get(\"http://localhost:3001/country\").then ((res) =>{\n      const data = res.data\n\n      setCity ([...data])\n      console.log(data)\n\n    })\n  }\n\n\nlet Check = () => setAgree (!agree)\n\n\nlet pass = (e) => {\n  setPassword({password:e.target.value})\n  console.log (password)\n}\n\nlet checkValid = () => {\n  let emailErr = ''\n  let emptyFild = ''\n\n  if (!email.includes('@')) {emailErr = 'Invalid email'}\n  if (!login || !password.password || !name || !birth || !country || !agree) {emptyFild ='Please, fill in form fields and check \\\" I agree\\\"'}\n  if (emailErr) {\n    setEmailErr (emailErr)\n    return false\n  }\n  if (emptyFild) {\n    setIsEmpty (emptyFild)\n    return false\n  }\n  if (password === '') {return false}\n\n  return true\n}\n\nconst submit = (event) => {\n  event.preventDefault()\n\n  let formInfo = {\n    email:email,\n    login:login,\n    name:name,\n    password:password.password,\n    birth:birth,\n    country:country     \n  }\n  console.log ('для бэка', formInfo)\n\n  const isValidOk = checkValid ()\n  if (isValidOk) {\n    setIsEmpty ('')\n    setEmailErr('')\n\n    Axios.post(\"http://localhost:3001/create\", formInfo).then ((res) => {\n      // console.log ('данные отправлены с фронта')\n      // console.log(res.data)\n      if (res.data.code == \"ER_DUP_ENTRY\") {setAuthWrong('This user already exists') }\n      else {\n      \n        setAuthWrong('')\n        setAuthentication (true)       \n        setCurrentUser (name)\n        setCurrentEmail (email)\n        setErrAuth (false)\n\n      }\n    })\n\n    // auth()\n  } else {\n    setPassword ({password:''})}\n  \n\n}\n\n    const handleChande = (event) => {\n    const target = event.target\n    const aname = target.name\n    const avalue = target.value\n\n      setForm ( prev => {\n        return {...prev,\n          [aname]: avalue}\n        })\n      }\n\n  const auth = (event) => {\n    \n  event.preventDefault()\n  // console.log ('dd', form)\n\n  let authInfo = {\n    email:form.email,\n    login:form.login,\n    password:form.password, \n  }\n    // console.log ('ауф', authInfo)\n\n  Axios.post(\"http://localhost:3001/auth\",  authInfo).then ((res) => {\n    console.log (res.data)\n    \n    if (res.data) {\n      setAuthentication (true) \n      console.log (res.data)\n      setCurrentUser (res.data)\n      setCurrentEmail (form.email)\n      setErrAuth (false)\n    } else { setErrAuth (true) \n      setAuthentication (false) \n    }\n    \n\n  })\n\n}\n\n\n  return (\n    <div className=\"App\">\n\n      {authentication ? \n      <div className='authBlock'>\n        <div className='authText'>Hello, {currentUser} {currentEmail}</div>\n        <div><button className='btn btnBlue' onClick={() => setAuthentication(false)}>Log out</button></div>\n      </div> \n      \n      : null}\n      \n\n      <div className='container'>\n        <div className={renderForm ?'postBox' : 'postBox hide'}>\n          <p className='err'>{isEmpty} </p>\n          <p className='err'>{emailErr}</p>\n          <p className='err'>{clickAgree}</p>\n          {authWrong ? <p className='err'>{authWrong}</p> : null}\n\n            <div className='registration-block'>\n              <div className='header-block'>\n                <div className='headerTitle'>Registration</div>\n                <div className='headerText'> \n                  Already have an account? <span className='headerLog' onClick={() => setRenderForm(false)}>Log in</span>\n                </div>\n              </div>\n              \n\n              <form className='postForm' onSubmit={submit}>\n                <input \n                type='text' \n                name='email' \n                placeholder='Email' \n                onChange={(event) => {setEmail(event.target.value)}}/>\n\n                <input \n                type='text' \n                name='login' \n                placeholder='Login' \n                onChange={(event) => {setLogin(event.target.value)}}/>\n\n                <input \n                type='text' \n                name='password' \n                value={password.password} \n                placeholder='Password' onChange={pass}/>\n\n                <input \n                type='text' \n                name='name' \n                placeholder='Your name' \n                onChange={(event) => {setName(event.target.value)}}/> \n\n                <input \n                type='date' \n                name='birth' \n                placeholder='Date of Birth' \n                onChange={(event) => {setBirth(event.target.value)}}/>\n          \n                <select name=\"country\" onChange={(event) => {\n                  setCountry(event.target.value)}}>\n                  {city.map ((val) => <option key={val.id} name={val.countryname}>{val.countryname}</option>)}\n                </select>\n\n                <div className='agree'>\n                  <div>\n                    <input type='checkbox' name='check' placeholder='check' onChange={(event) => {\n                    Check(event.target.value)}}/>\n                  </div>\n                  <div>I agree</div>\n                </div>\n                      \n                <button className='btn btnBlue'>Sign up</button>\n\n              </form>\n            \n            </div>\n        </div>\n        \n        {/* <div className={!renderForm ?'authentication-block' : 'authentication-block hide'}> */}\n        <div className={!renderForm ?'authentication-block' : 'authentication-block hide'}>\n            <div className='header-block'>\n                <div className='headerTitle'>Log in</div>\n                <div className='headerText'> \n                Need an account? <span className='headerLog' onClick={() => setRenderForm(true)}>Sign up</span>\n                </div>\n              </div>\n          {errAuth ? <p>error, user not found</p> : null}\n          <form className='postForm' onSubmit={auth}>\n            <input \n              type='text' \n              name='login' \n              placeholder='Login' \n              onChange={handleChande}/>\n\n            <input \n              type='text' \n              name='email' \n              placeholder='Email' \n              onChange={handleChande}/>  \n\n            <input type='text' \n              name='password' \n              placeholder='Password' \n              onChange={handleChande}/>\n\n\n            <button className='btn btnBlue'>Log in</button>\n          </form>\n\n        </div>\n      </div>        \n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}